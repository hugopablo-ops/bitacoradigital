<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BitÃ¡cora Digital â€” Dashboards + Podcast</title>
  <meta name="description" content="Dashboards limpios con datos de mercados (TradFi, Commodities, Crypto) y podcast de educaciÃ³n financiera y tecnologÃ­a." />
  <link rel="icon" href="assets/favicon.svg" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/main.css" />
</head>
<body>
  <!-- NAV -->
  <header class="nav">
    <div class="container nav__inner">
      <div class="brand">
        <img src="assets/favicon.svg" alt="" class="brand__logo">
        <span class="brand__name">BitÃ¡cora Digital</span>
      </div>
      <nav class="nav__links">
        <a href="#dashboards">Dashboards</a>
        <a href="#podcast">Podcast</a>
        <a href="#servicios">Servicios</a>
        <a href="#roadmap">Roadmap</a>
      </nav>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero">
    <div class="container hero__inner">
      <div class="hero__copy">
        <h1>Decisiones en <span class="accent">tiempo real</span> para negocios reales</h1>
        <p class="muted">Web3, DeFi, analÃ­tica y TradFi â€” educaciÃ³n aplicada, sin humo. Dashboards claros que se entienden y se usan.</p>
        <div class="hero__cta">
          <a class="btn btn--primary" href="#dashboards">Ver dashboards</a>
          <a class="btn" href="#podcast">Escuchar podcast</a>
        </div>
      </div>
      <div class="hero__snapshot">
        <div class="chip">CLP</div>
        <div class="chip">BTC</div>
        <div class="chip">ETH</div>
        <div class="chip">UF</div>
      </div>
    </div>
  </section>

  <!-- DASHBOARDS -->
<section class="section" id="charts-crypto">
  <div class="container">
    <h3 class="group__title">Crypto Â· Top 8 (Base 100, Ãºltimos 5 aÃ±os)</h3>
    <p class="muted">Fuente directa: CoinCap (precios en USD). Serie normalizada a Base 100 en la primera fecha.</p>

    <div class="card soft" style="padding:1rem">
      <canvas id="chart-crypto" height="120"></canvas>
    </div>
  </div>
</section>

  
  <section id="dashboards" class="section">
    <div class="container">
      <h2 class="section__title">Dashboards</h2>
      <p class="section__subtitle">Vista compacta. Si hay APIs, se actualiza solo. Si no, verÃ¡s â€œâ€”â€ (sin romper nada).</p>

      <!-- FILA: TRADFI CHILE -->
      <h3 class="group__title">TradFi Â· Chile</h3>
      <div class="grid">
        <article class="card" data-key="UF">
          <header class="card__head">
            <span class="pill">UF</span>
            <span class="muted">Unidad de Fomento</span>
          </header>
          <div class="card__value" data-field="price">â€”</div>
          <div class="card__delta" data-field="delta">â€”</div>
        </article>

        <article class="card" data-key="USDCLP">
          <header class="card__head">
            <span class="pill">USD/CLP</span>
            <span class="muted">DÃ³lar observado</span>
          </header>
          <div class="card__value" data-field="price">â€”</div>
          <div class="card__delta" data-field="delta">â€”</div>
        </article>

        <article class="card disabled" data-key="IPSA">
          <header class="card__head">
            <span class="pill">IPSA</span>
            <span class="muted">Bolsa de Santiago</span>
          </header>
          <div class="card__value" data-field="price">â€”</div>
          <div class="card__delta" data-field="delta">â€”</div>
          <div class="hint">ActÃ­valo con clave gratuita (finnhub / alpha vantage).</div>
        </article>
      </div>

      <!-- FILA: ÃNDICES USA/EU -->
      <h3 class="group__title">Ãndices Â· USA / Europa</h3>
      <div class="grid">
        <article class="card disabled" data-key="SP500">
          <header class="card__head"><span class="pill">S&P 500</span><span class="muted">EE.UU.</span></header>
          <div class="card__value" data-field="price">â€”</div>
          <div class="card__delta" data-field="delta">â€”</div>
          <div class="hint">Usa tu API KEY para habilitar.</div>
        </article>
        <article class="card disabled" data-key="DAX">
          <header class="card__head"><span class="pill">DAX</span><span class="muted">Alemania</span></header>
          <div class="card__value" data-field="price">â€”</div>
          <div class="card__delta" data-field="delta">â€”</div>
          <div class="hint">Usa tu API KEY para habilitar.</div>
        </article>
        <article class="card disabled" data-key="NIKKEI">
          <header class="card__head"><span class="pill">Nikkei 225</span><span class="muted">JapÃ³n</span></header>
          <div class="card__value" data-field="price">â€”</div>
          <div class="card__delta" data-field="delta">â€”</div>
          <div class="hint">Usa tu API KEY para habilitar.</div>
        </article>
      </div>

      <!-- FILA: TECH STOCKS -->
      <h3 class="group__title">Acciones Â· Big Tech / IA / Chips</h3>
      <div class="grid">
        <article class="card disabled" data-key="AAPL"><header class="card__head"><span class="pill">AAPL</span><span class="muted">Apple</span></header><div class="card__value" data-field="price">â€”</div><div class="card__delta" data-field="delta">â€”</div></article>
        <article class="card disabled" data-key="MSFT"><header class="card__head"><span class="pill">MSFT</span><span class="muted">Microsoft</span></header><div class="card__value" data-field="price">â€”</div><div class="card__delta" data-field="delta">â€”</div></article>
        <article class="card disabled" data-key="NVDA"><header class="card__head"><span class="pill">NVDA</span><span class="muted">NVIDIA</span></header><div class="card__value" data-field="price">â€”</div><div class="card__delta" data-field="delta">â€”</div></article>
        <article class="card disabled" data-key="TSM"><header class="card__head"><span class="pill">TSM</span><span class="muted">TSMC</span></header><div class="card__value" data-field="price">â€”</div><div class="card__delta" data-field="delta">â€”</div></article>
      </div>

      <!-- FILA: CRYPTO (LIVE) -->
      <h3 class="group__title">Crypto Â· Top 8 (live)</h3>
      <div class="grid">
        <article class="card" data-coin="bitcoin"><header class="card__head"><span class="pill">BTC</span><span class="muted">Bitcoin</span></header><div class="card__value" data-field="price">â€”</div><div class="card__delta" data-field="delta">â€”</div></article>
        <article class="card" data-coin="ethereum"><header class="card__head"><span class="pill">ETH</span><span class="muted">Ethereum</span></header><div class="card__value" data-field="price">â€”</div><div class="card__delta" data-field="delta">â€”</div></article>
        <article class="card" data-coin="solana"><header class="card__head"><span class="pill">SOL</span><span class="muted">Solana</span></header><div class="card__value" data-field="price">â€”</div><div class="card__delta" data-field="delta">â€”</div></article>
        <article class="card" data-coin="ripple"><header class="card__head"><span class="pill">XRP</span><span class="muted">XRP</span></header><div class="card__value" data-field="price">â€”</div><div class="card__delta" data-field="delta">â€”</div></article>
        <article class="card" data-coin="binancecoin"><header class="card__head"><span class="pill">BNB</span><span class="muted">BNB</span></header><div class="card__value" data-field="price">â€”</div><div class="card__delta" data-field="delta">â€”</div></article>
        <article class="card" data-coin="cardano"><header class="card__head"><span class="pill">ADA</span><span class="muted">Cardano</span></header><div class="card__value" data-field="price">â€”</div><div class="card__delta" data-field="delta">â€”</div></article>
        <article class="card" data-coin="chainlink"><header class="card__head"><span class="pill">LINK</span><span class="muted">Chainlink</span></header><div class="card__value" data-field="price">â€”</div><div class="card__delta" data-field="delta">â€”</div></article>
        <article class="card" data-coin="polkadot"><header class="card__head"><span class="pill">DOT</span><span class="muted">Polkadot</span></header><div class="card__value" data-field="price">â€”</div><div class="card__delta" data-field="delta">â€”</div></article>
      </div>

      <!-- FILA: COMMODITIES -->
      <h3 class="group__title">Commodities Â· Metales / EnergÃ­a</h3>
      <div class="grid">
        <article class="card disabled" data-key="GOLD"><header class="card__head"><span class="pill">Oro</span><span class="muted">XAU</span></header><div class="card__value" data-field="price">â€”</div><div class="card__delta" data-field="delta">â€”</div><div class="hint">Habilita con MetalsAPI/AlphaVantage.</div></article>
        <article class="card disabled" data-key="SILVER"><header class="card__head"><span class="pill">Plata</span><span class="muted">XAG</span></header><div class="card__value" data-field="price">â€”</div><div class="card__delta" data-field="delta">â€”</div></article>
        <article class="card disabled" data-key="BRENT"><header class="card__head"><span class="pill">Brent</span><span class="muted">Crudo</span></header><div class="card__value" data-field="price">â€”</div><div class="card__delta" data-field="delta">â€”</div></article>
      </div>
    </div>
  </section>

  <!-- MISIÃ“N / SERVICIOS -->
  <section class="section alt" id="servicios">
    <div class="container">
      <h2 class="section__title">Lo que hacemos</h2>
      <div class="cards-3">
        <article class="card soft">
          <h4>EducaciÃ³n primero</h4>
          <p>Somos un medio educativo: finanzas, IA, blockchain y analÃ­tica â€” sin â€œshillingâ€ ni promesas mÃ¡gicas.</p>
        </article>
        <article class="card soft">
          <h4>Dashboards a medida</h4>
          <p>Discovery â†’ IntegraciÃ³n â†’ Despliegue â†’ Mantenimiento. Datos que se entienden y toman decisiones.</p>
        </article>
        <article class="card soft">
          <h4>IA / DeFi / Pagos</h4>
          <p>Agentes de IA para tu negocio, consultorÃ­a DeFi y pasarelas fiatâ†”crypto con buenas prÃ¡cticas.</p>
        </article>
      </div>
    </div>
  </section>

  <!-- PODCAST -->
  <section id="podcast" class="section">
    <div class="container">
      <h2 class="section__title">Podcast</h2>
      <p class="section__subtitle">Escucha los Ãºltimos episodios sin salir de la web.</p>
      <div class="embed">
        <iframe style="border-radius:12px" src="https://open.spotify.com/embed/show/1wUiA7esT4Mx8OUA16PSyo?utm_source=generator" width="100%" height="232" frameborder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>
      </div>
    </div>
  </section>

  <!-- ROADMAP -->
  <section id="roadmap" class="section alt">
    <div class="container">
      <h2 class="section__title">Roadmap</h2>
      <ol class="roadmap">
        <li><strong>v0.1</strong> Â· Maqueta con dashboard en vivo (Crypto + CLP/UF). âœ…</li>
        <li><strong>v0.2</strong> Â· Conectar Ã­ndices y acciones con API gratuita (Finnhub/Alpha Vantage). ğŸ”œ</li>
        <li><strong>v0.3</strong> Â· Commodities y alertas simples. ğŸ”œ</li>
        <li><strong>v0.4</strong> Â· Email digests + panel admin para noticias. ğŸ”œ</li>
      </ol>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="container footer__inner">
      <span class="muted">Â© 2025 BitÃ¡cora Digital</span>
      <div class="footer__links">
        <a href="https://bitacoradigital.io" target="_blank" rel="noopener">Sitio</a>
        <a href="#podcast">Podcast</a>
        <a href="#servicios">Servicios</a>
      </div>
    </div>
  </footer>


<!-- Lightweight Charts (grÃ¡ficos livianos) -->
<script src="https://unpkg.com/lightweight-charts@4.1.0/dist/lightweight-charts.standalone.production.js"></script>

<style>
  .bd-grid { display:grid; gap:24px; margin-top:32px }
  .bd-2 { grid-template-columns: 1fr 1fr }
  .bd-1 { grid-template-columns: 1fr }
  .bd-card { background: rgba(255,255,255,.03); border:1px solid rgba(255,255,255,.08); border-radius:14px; padding:12px }
  .bd-title { font-weight:600; margin:4px 0 10px 6px; opacity:.9 }
  .bd-chart { width:100%; height:360px }
  @media (max-width:1000px){ .bd-2{grid-template-columns:1fr} }
</style>

<section class="container">
  <h2 class="section__title">Dashboards comparativos</h2>
  <p class="section__subtitle">Series normalizadas (Ãndice = 100 al inicio del rango) para comparar movimientos.</p>

  <div class="bd-grid bd-2">
    <div class="bd-card">
      <h3 class="bd-title">TradFi Â· Chile â€” UF vs USD/CLP vs IPSA (proxy ECH)</h3>
      <div id="chart-chile" class="bd-chart"></div>
      <p class="muted" style="margin:8px 4px 0">UF/US$ desde mindicador.cl Â· IPSA proxy vÃ­a ECH (Yahoo). Rango: 10 aÃ±os mensuales.</p>
    </div>

    <div class="bd-card">
      <h3 class="bd-title">Ãndices Â· S&P500 (SPY) vs DAX (EWG) vs Nikkei (EWJ)</h3>
      <div id="chart-indices" class="bd-chart"></div>
      <p class="muted" style="margin:8px 4px 0">Yahoo Finance, rango 10 aÃ±os mensuales.</p>
    </div>

    <div class="bd-card">
      <h3 class="bd-title">Big Tech Â· AAPL vs MSFT vs NVDA</h3>
      <div id="chart-tech" class="bd-chart"></div>
      <p class="muted" style="margin:8px 4px 0">Yahoo Finance, rango 10 aÃ±os mensuales.</p>
    </div>

    <div class="bd-card">
      <h3 class="bd-title">Commodities (ETF) Â· Oro (IAU) vs Plata (SLV) vs Brent (BNO)</h3>
      <div id="chart-commod" class="bd-chart"></div>
      <p class="muted" style="margin:8px 4px 0">Yahoo Finance (ETF proxies), rango 10 aÃ±os mensuales.</p>
    </div>
  </div>
</section>

<!-- Lightweight Charts (grÃ¡ficos livianos) -->
<script src="https://unpkg.com/lightweight-charts@4.1.0/dist/lightweight-charts.standalone.production.js"></script>

<style>
  .bd-dash { margin: 36px auto; max-width: 1100px; padding: 0 16px; }
  .bd-card { background: rgba(255,255,255,.03); border:1px solid rgba(255,255,255,.08); border-radius:14px; padding:12px; margin-bottom:24px; }
  .bd-title { font-weight:600; margin:4px 0 10px 6px; opacity:.9 }
  .bd-muted { color:#a0aec0; font-size: 0.9rem; margin:6px 4px 0 }
  .bd-chart { width:100%; height:380px }
  .bd-note { color:#cbd5e0; font-size: .85rem; margin: 6px 4px 0 }
</style>

<section class="bd-dash">
  <div class="bd-card">
    <h3 class="bd-title">TradFi Â· Chile â€” UF vs USD/CLP vs IPSA (proxy ECH)</h3>
    <div id="chart-chile" class="bd-chart"></div>
    <p class="bd-muted">UF y USD/CLP desde mindicador.cl Â· IPSA se intenta vÃ­a ECH (Yahoo). Rango: 10 aÃ±os, mensual. Base 100.</p>
    <p id="chart-hint" class="bd-note" style="display:none"></p>
  </div>
</section>

<script>
(function () {
  // ------ Configurable rÃ¡pido ------
  const YEARS = 5; // cambia a 10 si quieres
  // Top 8 por notoriedad (puedes cambiar id/label sin problema)
  const COINS = [
    { id: "bitcoin",       label: "BTC"  },
    { id: "ethereum",      label: "ETH"  },
    { id: "solana",        label: "SOL"  },
    { id: "xrp",           label: "XRP"  },
    { id: "binance-coin",  label: "BNB"  },
    { id: "cardano",       label: "ADA"  },
    { id: "chainlink",     label: "LINK" },
    { id: "polkadot",      label: "DOT"  },
  ];
  // ----------------------------------

  // Utilidad: fechas en ms (CoinCap espera epoch ms)
  const now = Date.now();
  const start = new Date();
  start.setFullYear(start.getFullYear() - YEARS);
  const START_MS = start.getTime();
  const END_MS   = now;

  // Downsample mensual rÃ¡pido: tomar ~cada 30 dÃ­as
  const THIRTY_DAYS = 1000 * 60 * 60 * 24 * 30;

  // Colores (Chart.js escogerÃ¡ si faltan)
  const PALETTE = [
    "#22c55e","#60a5fa","#f59e0b","#ef4444",
    "#a78bfa","#34d399","#f472b6","#f97316",
  ];

  // Llama CoinCap: /assets/:id/history?interval=d1&start=...&end=...
  async function fetchHistory(id) {
    const url = `https://api.coincap.io/v2/assets/${id}/history?interval=d1&start=${START_MS}&end=${END_MS}`;
    const r = await fetch(url, { cache: "no-store" });
    if (!r.ok) throw new Error(id + " HTTP " + r.status);
    const data = await r.json();
    return data.data; // [{ priceUsd, time, date }, ...]
  }

  // Downsample e.g. 1 punto / ~mes
  function monthlySample(rows) {
    const out = [];
    let last = 0;
    for (const row of rows) {
      const t = +row.time;
      if (t - last >= THIRTY_DAYS || out.length === 0) {
        out.push({ t, v: Number(row.priceUsd) });
        last = t;
      }
    }
    return out;
  }

  // Normaliza serie a base 100 (primero = 100)
  function toBase100(series) {
    if (!series.length) return [];
    const base = series[0].v;
    return series.map(p => ({ t: p.t, v: (p.v / base) * 100 }));
  }

  // Arma conjunto comÃºn de fechas (x) y mapea cada serie
  function unifyX(all) {
    // Tomo fechas de la primera serie como eje x
    const x = all[0].map(p => p.t);
    const map = all.map(s =>
      x.map(t => {
        // buscar punto con ese 't'
        const found = s.find(p => p.t === t);
        return found ? found.v : null;
      })
    );
    return { x, ySets: map };
  }

  // Principal
  async function run() {
    try {
      const series = [];
      for (const c of COINS) {
        const h = await fetchHistory(c.id);
        const sample = monthlySample(h);
        const base100 = toBase100(sample);
        series.push(base100);
      }

      // Unifica eje x y prepara datasets Chart.js
      const { x, ySets } = unifyX(series);
      const labels = x.map(ms => {
        const d = new Date(ms);
        return d.getFullYear() + "-" + String(d.getMonth()+1).padStart(2,"0");
      });

      const datasets = ySets.map((y, i) => ({
        label: COINS[i].label,
        data: y,
        borderColor: PALETTE[i % PALETTE.length],
        backgroundColor: PALETTE[i % PALETTE.length],
        borderWidth: 2,
        pointRadius: 0,
        tension: 0.25
      }));

      const ctx = document.getElementById("chart-crypto").getContext("2d");
      new Chart(ctx, {
        type: "line",
        data: { labels, datasets },
        options: {
          responsive: true,
          interaction: { mode: "nearest", intersect: false },
          plugins: {
            legend: { position: "top" },
            tooltip: {
              callbacks: {
                label: (c) => `${c.dataset.label}: ${c.raw.toFixed(1)}`
              }
            }
          },
          scales: {
            y: {
              title: { text: "Base 100", display: true },
              ticks: { callback: v => v.toFixed ? v.toFixed(0) : v }
            },
            x: { ticks: { maxRotation: 0, autoSkip: true } }
          }
        }
      });
    } catch (e) {
      console.error("[Crypto chart] error:", e);
      const el = document.querySelector("#charts-crypto .muted");
      if (el) el.textContent = "No se pudo cargar el comparativo (intenta recargar).";
    }
  }

  // dispara cuando el DOM estÃ© listo (y si ya estÃ¡, igual corre)
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", run, { once: true });
  } else {
    run();
  }
})();
</script>
